"use strict";window.siteIcon={},function(window,app){app.init=function(){app.cache(),app.chooseImage(),app.removeImage()},app.cache=function(){app.$c={uploadButton:document.getElementById("upload-button"),removeButton:document.getElementById("remove-button"),attachmentMediaView:document.getElementById("attachment-media-view"),browserPreview:document.getElementById("browser-preview"),appIconPreview:document.getElementById("app-icon-preview"),siteIcon:document.getElementById("site_icon"),mediaUploader:!1}},app.chooseImage=function(){app.$c.uploadButton.addEventListener("click",function(e){e.preventDefault(),app.$c.mediaUploader?app.$c.mediaUploader.open():(app.$c.mediaUploader=wp.media({title:"Choose Image",button:{text:"Select"},library:{type:"image"},multiple:!1}),app.onSelect(),app.$c.mediaUploader.open())})},app.onSelect=function(){app.$c.mediaUploader.on("select",function(){var attachment=app.$c.mediaUploader.state().get("selection").first().toJSON();app.$c.siteIcon.value=attachment.id,app.$c.attachmentMediaView.classList.remove("no-show-preview"),app.$c.browserPreview.setAttribute("src",attachment.url),app.$c.appIconPreview.setAttribute("src",attachment.url),app.$c.uploadButton.textContent="Change Image"})},app.removeImage=function(){app.$c.removeButton.addEventListener("click",function(){return 1==confirm("Are you sure?")&&(app.$c.siteIcon.value="0",app.$c.attachmentMediaView.classList.add("no-show-preview"),app.$c.uploadButton.textContent="Select Image"),!1})},app.init()}(window,window.siteIcon);